# docker-compose.yml - ZeroTier container (generic template)
# Network ID is injected by Ansible via command override

services:
  zerotier:
    image: zerotier/zerotier:latest
    container_name: zerotier-one
    restart: unless-stopped
    network_mode: host
    privileged: true
    cap_add:
      - NET_ADMIN
      - SYS_ADMIN
    devices:
      - /dev/net/tun:/dev/net/tun
    volumes:
      - zt-state:/var/lib/zerotier-one
    # Ansible will inject the command line here

volumes:
  zt-state:
